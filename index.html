<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antigravity Lab</title>
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #bc13fe;
            --bg: #0a0a0a;
            --text: #ffffff;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Courier New', monospace;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            text-align: center;
            z-index: 10;
            background: rgba(10, 10, 10, 0.8);
            padding: 2rem;
            border: 1px solid var(--primary);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(5px);
            border-radius: 10px;
        }

        h1 {
            font-size: 3rem;
            text-transform: uppercase;
            letter-spacing: 0.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px var(--primary);
            animation: glitch 3s infinite;
        }

        p {
            font-size: 1.2rem;
            color: #aaa;
        }

        .btn {
            margin-top: 2rem;
            padding: 1rem 2rem;
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .btn:hover {
            background: var(--secondary);
            color: var(--bg);
            box-shadow: 0 0 30px var(--secondary);
        }

        /* Background Animation */
        .grid {
            position: absolute;
            width: 200%;
            height: 200%;
            background-image:
                linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(500px) rotateX(60deg);
            animation: move 10s linear infinite;
            z-index: 1;
            top: -50%;
        }

        @keyframes move {
            0% {
                transform: perspective(500px) rotateX(60deg) translateY(0);
            }

            100% {
                transform: perspective(500px) rotateX(60deg) translateY(50px);
            }
        }

        @keyframes glitch {
            0% {
                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
            }

            2% {
                text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
            }

            4% {
                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
            }

            6% {
                text-shadow: none;
            }

            100% {
                text-shadow: none;
            }
        }
    </style>
    <!DOCTYPE html>
    <html lang="es">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Antigravity Lab</title>
        <style>
            :root {
                --primary: #00f3ff;
                --secondary: #bc13fe;
                --bg: #0a0a0a;
                --text: #ffffff;
            }

            body {
                margin: 0;
                padding: 0;
                background-color: var(--bg);
                color: var(--text);
                font-family: 'Courier New', monospace;
                overflow: hidden;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }

            .container {
                text-align: center;
                z-index: 10;
                background: rgba(10, 10, 10, 0.8);
                padding: 2rem;
                border: 1px solid var(--primary);
                box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
                backdrop-filter: blur(5px);
                border-radius: 10px;
            }

            h1 {
                font-size: 3rem;
                text-transform: uppercase;
                letter-spacing: 0.5rem;
                margin-bottom: 1rem;
                text-shadow: 0 0 10px var(--primary);
                animation: glitch 3s infinite;
            }

            p {
                font-size: 1.2rem;
                color: #aaa;
            }

            .btn {
                margin-top: 2rem;
                padding: 1rem 2rem;
                background: transparent;
                border: 2px solid var(--secondary);
                color: var(--secondary);
                font-size: 1rem;
                cursor: pointer;
                transition: all 0.3s ease;
                text-transform: uppercase;
                font-weight: bold;
                letter-spacing: 2px;
            }

            .btn:hover {
                background: var(--secondary);
                color: var(--bg);
                box-shadow: 0 0 30px var(--secondary);
            }

            /* Background Animation */
            .grid {
                position: absolute;
                width: 200%;
                height: 200%;
                background-image:
                    linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
                background-size: 50px 50px;
                transform: perspective(500px) rotateX(60deg);
                animation: move 10s linear infinite;
                z-index: 1;
                top: -50%;
            }

            @keyframes move {
                0% {
                    transform: perspective(500px) rotateX(60deg) translateY(0);
                }

                100% {
                    transform: perspective(500px) rotateX(60deg) translateY(50px);
                }
            }

            @keyframes glitch {
                0% {
                    text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                }

                2% {
                    text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
                }

                4% {
                    text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                }

                6% {
                    text-shadow: none;
                }

                100% {
                    text-shadow: none;
                }
            }
        </style>
    </head>

<body>

    <div class="grid"></div>

    <div class="container">
        <h1>Antigravity Lab</h1>
        <p id="status">Sistema en espera. Click en MIC o dec√≠ "Computadora"</p>
        <div id="voice-indicator" style="display:none; color: var(--primary); font-weight: bold; margin: 1rem;">
            ‚óè ESCUCHANDO...
        </div>
        <button class="btn" id="mic-btn" onclick="toggleVoice()">üéôÔ∏è ACTIVAR VOZ</button>
        <div id="output" style="margin-top: 20px; color: #0f0; min-height: 20px;"></div>

        <!-- Secci√≥n de Proyectos -->
        <div id="projects-container" style="display:none; margin-top: 3rem; text-align: left; width: 100%;">
            <h2 style="border-bottom: 1px solid var(--primary); padding-bottom: 0.5rem;">> ARCHIVOS DE PROYECTOS</h2>
            <div class="project-card" onclick="abrirProyecto('demo')"
                style="border: 1px solid #333; padding: 1rem; margin-top: 1rem; cursor: pointer; transition: 0.3s;">
                <h3 style="color: var(--secondary); margin: 0;">[PROYECTO 001]: IA PORTFOLIO</h3>

                .btn:hover {
                background: var(--secondary);
                color: var(--bg);
                box-shadow: 0 0 30px var(--secondary);
                }

                /* Background Animation */
                .grid {
                position: absolute;
                width: 200%;
                height: 200%;
                background-image:
                linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
                background-size: 50px 50px;
                transform: perspective(500px) rotateX(60deg);
                animation: move 10s linear infinite;
                z-index: 1;
                top: -50%;
                }

                @keyframes move {
                0% {
                transform: perspective(500px) rotateX(60deg) translateY(0);
                }

                100% {
                transform: perspective(500px) rotateX(60deg) translateY(50px);
                }
                }

                @keyframes glitch {
                0% {
                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                }

                2% {
                text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
                }

                4% {
                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                }

                6% {
                text-shadow: none;
                }

                100% {
                text-shadow: none;
                }
                }
                </style>
                <!DOCTYPE html>
                <html lang="es">

                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Antigravity Lab</title>
                    <style>
                        :root {
                            --primary: #00f3ff;
                            --secondary: #bc13fe;
                            --bg: #0a0a0a;
                            --text: #ffffff;
                        }

                        body {
                            margin: 0;
                            padding: 0;
                            background-color: var(--bg);
                            color: var(--text);
                            font-family: 'Courier New', monospace;
                            overflow: hidden;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            height: 100vh;
                        }

                        .container {
                            text-align: center;
                            z-index: 10;
                            background: rgba(10, 10, 10, 0.8);
                            padding: 2rem;
                            border: 1px solid var(--primary);
                            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
                            backdrop-filter: blur(5px);
                            border-radius: 10px;
                        }

                        h1 {
                            font-size: 3rem;
                            text-transform: uppercase;
                            letter-spacing: 0.5rem;
                            margin-bottom: 1rem;
                            text-shadow: 0 0 10px var(--primary);
                            animation: glitch 3s infinite;
                        }

                        p {
                            font-size: 1.2rem;
                            color: #aaa;
                        }

                        .btn {
                            margin-top: 2rem;
                            padding: 1rem 2rem;
                            background: transparent;
                            border: 2px solid var(--secondary);
                            color: var(--secondary);
                            font-size: 1rem;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            text-transform: uppercase;
                            font-weight: bold;
                            letter-spacing: 2px;
                        }

                        .btn:hover {
                            background: var(--secondary);
                            color: var(--bg);
                            box-shadow: 0 0 30px var(--secondary);
                        }

                        /* Background Animation */
                        .grid {
                            position: absolute;
                            width: 200%;
                            height: 200%;
                            background-image:
                                linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
                            background-size: 50px 50px;
                            transform: perspective(500px) rotateX(60deg);
                            animation: move 10s linear infinite;
                            z-index: 1;
                            top: -50%;
                        }

                        @keyframes move {
                            0% {
                                transform: perspective(500px) rotateX(60deg) translateY(0);
                            }

                            100% {
                                transform: perspective(500px) rotateX(60deg) translateY(50px);
                            }
                        }

                        @keyframes glitch {
                            0% {
                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                            }

                            2% {
                                text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
                            }

                            4% {
                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                            }

                            6% {
                                text-shadow: none;
                            }

                            100% {
                                text-shadow: none;
                            }
                        }
                    </style>
                </head>

                <body>

                    <div class="grid"></div>

                    <div class="container">
                        <h1>Antigravity Lab</h1>
                        <p id="status">Sistema en espera. Click en MIC o dec√≠ "Computadora"</p>
                        <div id="voice-indicator"
                            style="display:none; color: var(--primary); font-weight: bold; margin: 1rem;">
                        </div>
                        <button class="btn" id="mic-btn" onclick="toggleVoice()">üéôÔ∏è ACTIVAR VOZ</button>
                        <div id="output" style="margin-top: 20px; color: #0f0; min-height: 20px;"></div>

                        <!-- Secci√≥n de Proyectos -->
                        <div id="projects-container"
                            style="display:none; margin-top: 3rem; text-align: left; width: 100%;">
                            <h2 style="border-bottom: 1px solid var(--primary); padding-bottom: 0.5rem;">> ARCHIVOS DE
                                PROYECTOS</h2>
                            <div class="project-card" onclick="abrirProyecto('demo')"
                                style="border: 1px solid #333; padding: 1rem; margin-top: 1rem; cursor: pointer; transition: 0.3s;">
                                <h3 style="color: var(--secondary); margin: 0;">[PROYECTO 001]: IA PORTFOLIO</h3>

                                .btn:hover {
                                background: var(--secondary);
                                color: var(--bg);
                                box-shadow: 0 0 30px var(--secondary);
                                }

                                /* Background Animation */
                                .grid {
                                position: absolute;
                                width: 200%;
                                height: 200%;
                                background-image:
                                linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
                                background-size: 50px 50px;
                                transform: perspective(500px) rotateX(60deg);
                                animation: move 10s linear infinite;
                                z-index: 1;
                                top: -50%;
                                }

                                @keyframes move {
                                0% {
                                transform: perspective(500px) rotateX(60deg) translateY(0);
                                }

                                100% {
                                transform: perspective(500px) rotateX(60deg) translateY(50px);
                                }
                                }

                                @keyframes glitch {
                                0% {
                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                                }

                                2% {
                                text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
                                }

                                4% {
                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                                }

                                6% {
                                text-shadow: none;
                                }

                                100% {
                                text-shadow: none;
                                }
                                }
                                </style>
                                <!DOCTYPE html>
                                <html lang="es">

                                <head>
                                    <meta charset="UTF-8">
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                    <title>Antigravity Lab</title>
                                    <style>
                                        :root {
                                            --primary: #00f3ff;
                                            --secondary: #bc13fe;
                                            --bg: #0a0a0a;
                                            --text: #ffffff;
                                        }

                                        body {
                                            margin: 0;
                                            padding: 0;
                                            background-color: var(--bg);
                                            color: var(--text);
                                            font-family: 'Courier New', monospace;
                                            overflow: hidden;
                                            display: flex;
                                            justify-content: center;
                                            align-items: center;
                                            height: 100vh;
                                        }

                                        .container {
                                            text-align: center;
                                            z-index: 10;
                                            background: rgba(10, 10, 10, 0.8);
                                            padding: 2rem;
                                            border: 1px solid var(--primary);
                                            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
                                            backdrop-filter: blur(5px);
                                            border-radius: 10px;
                                        }

                                        h1 {
                                            font-size: 3rem;
                                            text-transform: uppercase;
                                            letter-spacing: 0.5rem;
                                            margin-bottom: 1rem;
                                            text-shadow: 0 0 10px var(--primary);
                                            animation: glitch 3s infinite;
                                        }

                                        p {
                                            font-size: 1.2rem;
                                            color: #aaa;
                                        }

                                        .btn {
                                            margin-top: 2rem;
                                            padding: 1rem 2rem;
                                            background: transparent;
                                            border: 2px solid var(--secondary);
                                            color: var(--secondary);
                                            font-size: 1rem;
                                            cursor: pointer;
                                            transition: all 0.3s ease;
                                            text-transform: uppercase;
                                            font-weight: bold;
                                            letter-spacing: 2px;
                                        }

                                        .btn:hover {
                                            background: var(--secondary);
                                            color: var(--bg);
                                            box-shadow: 0 0 30px var(--secondary);
                                        }

                                        /* Background Animation */
                                        .grid {
                                            position: absolute;
                                            width: 200%;
                                            height: 200%;
                                            background-image:
                                                linear-gradient(rgba(0, 243, 255, 0.1) 1px, transparent 1px),
                                                linear-gradient(90deg, rgba(0, 243, 255, 0.1) 1px, transparent 1px);
                                            background-size: 50px 50px;
                                            transform: perspective(500px) rotateX(60deg);
                                            animation: move 10s linear infinite;
                                            z-index: 1;
                                            top: -50%;
                                        }

                                        @keyframes move {
                                            0% {
                                                transform: perspective(500px) rotateX(60deg) translateY(0);
                                            }

                                            100% {
                                                transform: perspective(500px) rotateX(60deg) translateY(50px);
                                            }
                                        }

                                        @keyframes glitch {
                                            0% {
                                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                                            }

                                            2% {
                                                text-shadow: -2px -2px var(--secondary), 2px 2px var(--primary);
                                            }

                                            4% {
                                                text-shadow: 2px 2px var(--secondary), -2px -2px var(--primary);
                                            }

                                            6% {
                                                text-shadow: none;
                                            }

                                            100% {
                                                text-shadow: none;
                                            }
                                        }
                                    </style>
                                </head>

                                <body>

                                    <div class="grid"></div>

                                    <div class="container">
                                        <h1>Antigravity Lab</h1>
                                        <p id="status">Sistema en espera. Click en MIC o dec√≠ "Computadora"</p>
                                        <div id="voice-indicator"
                                            style="display:none; color: var(--primary); font-weight: bold; margin: 1rem;">
                                            ‚óè ESCUCHANDO...
                                        </div>
                                        <button class="btn" id="mic-btn" onclick="toggleVoice()">üéôÔ∏è ACTIVAR
                                            VOZ</button>
                                        <div id="output" style="margin-top: 20px; color: #0f0; min-height: 20px;"></div>

                                        <!-- Secci√≥n de Proyectos -->
                                        <div id="projects-container"
                                            style="display:none; margin-top: 3rem; text-align: left; width: 100%;">
                                            <h2
                                                style="border-bottom: 1px solid var(--primary); padding-bottom: 0.5rem;">
                                                > ARCHIVOS DE
                                                PROYECTOS</h2>

                                        </div>

                                        <!-- Consola de Comunicaciones -->
                                        <div id="comms-console"
                                            style="margin-top: 3rem; width: 100%; text-align: left; border-top: 1px solid #333; padding-top: 1rem;">
                                            <h3 style="color: #0f0;">> CANAL SEGURO: AGENTE <-> USUARIO</h3>
                                            <div id="latest-message"
                                                style="background: rgba(0, 20, 0, 0.8); padding: 1rem; border: 1px dashed #0f0; font-family: monospace; color: #0f0; min-height: 50px;">
                                                Esperando transmisi√≥n...
                                            </div>
                                            <button class="btn" onclick="leerUltimoMensaje()"
                                                style="margin-top: 1rem; font-size: 0.8rem; padding: 0.5rem 1rem;">üîÑ
                                                RECIBIR MENSAJE</button>
                                        </div>
                                    </div>

                                    <script src="portfolio_data.js"></script>
                                    <script src="comms.js"></script>
                                    <script>
                                        const statusEl = document.getElementById('status');
                                        const outputEl = document.getElementById('output');
                                        const indicatorEl = document.getElementById('voice-indicator');
                                        const projectsContainer = document.getElementById('projects-container');
                                        const messageBox = document.getElementById('latest-message');
                                        let recognition;

                                        // Cargar proyectos al inicio (ocultos)
                                        renderizarProyectos();
                                        // Cargar mensaje inicial
                                        mostrarMensaje();

                                        function renderizarProyectos() {
                                            const container = document.querySelector('#projects-container');
                                            // Limpiar contenedor (manteniendo el t√≠tulo)
                                            const titulo = container.querySelector('h2');
                                            container.innerHTML = '';
                                            container.appendChild(titulo);

                                            if (typeof PORTFOLIO_DATA !== 'undefined') {
                                                PORTFOLIO_DATA.forEach(proj => {
                                                    const card = document.createElement('div');
                                                    card.className = 'project-card';
                                                    card.style = "border: 1px solid #333; padding: 1rem; margin-top: 1rem; cursor: pointer; transition: 0.3s; background: rgba(0,0,0,0.5);";
                                                    card.innerHTML = `
                        <h3 style="color: var(--secondary); margin: 0;">[${proj.id.toUpperCase()}]: ${proj.titulo.toUpperCase()}</h3>
                        <p style="font-size: 0.9rem; color: #ccc;">${proj.descripcion}</p>
                        <div style="font-size: 0.8rem; color: var(--primary); margin-top:0.5rem;">[${proj.tags.join('] [')}]</div>
                    `;
                                                    card.onclick = () => abrirProyecto(proj.titulo);
                                                    container.appendChild(card);
                                                });
                                            }
                                        }

                                        function mostrarMensaje() {
                                            if (typeof AGENT_MESSAGES !== 'undefined' && AGENT_MESSAGES.length > 0) {
                                                const ultimo = AGENT_MESSAGES[AGENT_MESSAGES.length - 1];
                                                messageBox.innerHTML = `[${ultimo.timestamp}] >> ${ultimo.text}`;
                                            }
                                        }

                                        function leerUltimoMensaje() {
                                            // Recargar el script de comms para ver si hay algo nuevo (truco sucio pero efectivo)
                                            const oldScript = document.querySelector('script[src="comms.js"]');
                                            if (oldScript) oldScript.remove();

                                            const newScript = document.createElement('script');
                                            newScript.src = 'comms.js?t=' + new Date().getTime(); // Cache buster
                                            newScript.onload = () => {
                                                mostrarMensaje();
                                                if (typeof AGENT_MESSAGES !== 'undefined' && AGENT_MESSAGES.length > 0) {
                                                    const texto = AGENT_MESSAGES[AGENT_MESSAGES.length - 1].text;
                                                    hablar(texto);
                                                }
                                            };
                                            document.body.appendChild(newScript);
                                        }

                                        if ('webkitSpeechRecognition' in window) {
                                            recognition = new webkitSpeechRecognition();
                                            recognition.continuous = false;
                                            recognition.lang = 'es-AR';
                                            recognition.interimResults = false;

                                            recognition.onstart = function () {
                                                indicatorEl.style.display = 'block';
                                                statusEl.innerText = "Escuchando comandos...";
                                            };

                                            recognition.onend = function () {
                                                indicatorEl.style.display = 'none';
                                                statusEl.innerText = "Sistema en espera.";
                                            };

                                            recognition.onresult = function (event) {
                                                const transcript = event.results[0][0].transcript.toLowerCase();
                                                outputEl.innerText = `> Comando recibido: "${transcript}"`;
                                                procesarComando(transcript);
                                            };
                                        } else {
                                            statusEl.innerText = "Tu navegador no soporta voz :(";
                                            document.getElementById('mic-btn').style.display = 'none';
                                        }

                                        function toggleVoice() {
                                            if (recognition) recognition.start();
                                        }

                                        function procesarComando(texto) {
                                            if (texto.includes('hola') || texto.includes('iniciar')) {
                                                hablar("Bienvenido al laboratorio Antigravity. Sistemas listos.");
                                            } else if (texto.includes('experimento') || texto.includes('romper')) {
                                                alert('¬°Iniciando secuencia de autodestrucci√≥n! (Mentira üòú)');
                                            } else if (texto.includes('github') || texto.includes('repositorio') || texto.includes('proyectos') || texto.includes('mostrar')) {
                                                hablar("Accediendo a la base de datos. Desplegando proyectos.");
                                                projectsContainer.style.display = 'block';
                                            } else if (texto.includes('leer') || texto.includes('mensaje')) {
                                                leerUltimoMensaje();
                                            } else {
                                                hablar("Comando no reconocido, pero suena interesante.");
                                            }
                                        }

                                        function hablar(texto) {
                                            const utterance = new SpeechSynthesisUtterance(texto);
                                            utterance.lang = 'es-AR';
                                            window.speechSynthesis.speak(utterance);
                                        }

                                        function abrirProyecto(nombre) {
                                            hablar("Abriendo detalles del proyecto " + nombre);
                                            alert('Abriendo: ' + nombre);
                                        }
                                    </script>
                                </body>

                                </html>